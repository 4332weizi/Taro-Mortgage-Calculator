(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"126":function(e,a,t){},"136":function(e,a,t){"use strict";t.r(a);var n=t(14),c=t.n(n),o=t(18),r=t(11),l=t(0),i=t(2),u=t(3),s=t(12),m=t(9),d=t(10),h=t(4),p=t(13),b=t.n(p),y=t(23),_=t(86),f=(t(92),t(88)),O=(t(126),t(91)),v=t(87),P=function HouseLoanComputeHeader(e){var a=e.way,t=e.houseTotal,n=e.tip,c=e.userLoanWay,o=e.downPayRate,r=e.equalInterestPayMonth,l=e.equalPrincipalPayMonth,i=e.goHistory,u=e.goMonthlyPayments;return b.a.createElement(_.View,{"className":"_h_l_c-header__content"},b.a.createElement(f.c,{"locations":[0,.75,1],"src":O.f,"colors":["#12BA83","#12BA83","#9AE7CD"],"className":"_h_l_c-header-header-box","useColors":!0,"color":"linear-gradient(360deg,rgba(154,231,205,1) 0%, rgba(18,186,131,1) 20%, rgba(18,186,131,1) 100%)"},b.a.createElement(_.Image,{"src":O.l,"className":"_h_l_c-header-percent-icon"}),b.a.createElement(_.View,{"className":"_h_l_c-header-header _h_l_c-header-weapp-header"},b.a.createElement(_.View,{"className":"_h_l_c-header-header__info"},b.a.createElement(_.View,{"className":"_h_l_c-header-info__title"},b.a.createElement(_.Text,{"className":"_h_l_c-header-info__title__text"},"房屋总价"),b.a.createElement(_.Text,{"className":"_h_l_c-header-info__title__price","style":{"includeFontPadding":!1,"textAlignVertical":"center"}},1===a?t:"--"),b.a.createElement(_.Text,{"className":"_h_l_c-header-info__title__text"},"万")),b.a.createElement(_.View,{"className":"_h_l_c-header-history-btn","onClick":i},b.a.createElement(_.Text,{"className":"_h_l_c-header-history-btn__text"},"查看历史"),b.a.createElement(_.Image,{"className":"_h_l_c-header-arrow-right","src":O.n}))),b.a.createElement(_.Text,{"className":"_h_l_c-header-header__tip"},n))),b.a.createElement(f.a,{"shadowColor":"#E7EBEE","shadowOffset":{"width":0,"height":2},"shadowOpacity":1,"shadowRadius":3.84,"className":"_h_l_c-header-loan-info","elevation":5,"boxShadow":"0px 1px 5px 0px #E7EBEE"},b.a.createElement(_.View,{"className":"_h_l_c-header-loan-box"},b.a.createElement(_.Text,{"className":"_h_l_c-header-loan-box__title"},"首付款"),b.a.createElement(_.View,{"className":"_h_l_c-header-loan-box__amount"},b.a.createElement(_.Text,{"className":"_h_l_c-header-loan-box__amount__number","numberOfLines":1,"style":{"includeFontPadding":!1,"textAlignVertical":"center"}},1===a?Math.floor(Object(v.a)(t*o||0,1)):"--",1===a&&b.a.createElement(_.Text,{"className":"_h_l_c-header-loan-info__unit"},"万")))),b.a.createElement(_.View,{"className":"_h_l_c-header-loan-box _h_l_c-header-monty-pay"},b.a.createElement(_.Text,{"className":"_h_l_c-header-loan-box__title"},"等额本息"===c?"每月应还(等额本息)":"首月应还(等额本金)"),b.a.createElement(_.View,{"className":"_h_l_c-header-loan-box__amount"},b.a.createElement(_.Text,{"className":"_h_l_c-header-loan-box__amount__number _h_l_c-header-loan-box__amount__number-right","style":{"includeFontPadding":!1,"textAlignVertical":"bottom"}},"等额本息"===c?r:l,b.a.createElement(_.Text,{"className":"_h_l_c-header-loan-info__unit"},"元"))),b.a.createElement(_.View,{"className":"_h_l_c-header-monty-pay__tip","onClick":u},b.a.createElement(_.Text,{"className":"_h_l_c-header-monty-pay__tip__text"},"对比","等额本息"===c?"等额本金":"等额本息","月供"),b.a.createElement(_.Image,{"className":"_h_l_c-header-arrow-right","src":O.m})))))};P.options={"addGlobalClass":!0};var T=b.a.memo(P),w=function TitleTpl(e){var a=e.title,t=void 0===a?"":a,n=e.data,c=void 0===n?[]:n,o=e.onWayClick,r=void 0===o?function(){}:o,l=e.activeIndex,i=void 0===l?0:l,u=function handleClick(e,a){return function(){r(e,a)}};return b.a.createElement(_.View,{"className":"compute-way"},b.a.createElement(_.Text,{"className":"compute-way__title"},t),b.a.createElement(_.View,{"className":"compute-way__way-box"},c.map((function(e,a){return b.a.createElement(_.View,{"key":e.id,"onClick":u(e,a),"className":"pseudo-content"},b.a.createElement(_.Text,{"className":"pseudo-content__text ".concat(i===e.index?"pseudo-content__text-active":"")},e.name),i===e.index&&b.a.createElement(_.View,{"className":"pseudo-content__pseudo"}))}))))};w.options={"addGlobalClass":!0};var g=function(e){Object(m.a)(LineWrap,e);var a=Object(d.a)(LineWrap);function LineWrap(e){var t;return Object(i.a)(this,LineWrap),t=a.call(this,e),Object(h.a)(Object(s.a)(t),"handlePickerChange",(function(e,a){return function(n){var c=e.range.filter((function(e){return e.value===Number(n[0])}));t.props.onChangePicker(e,c[0]||e.range[0],a)}})),Object(h.a)(Object(s.a)(t),"handleInputChange",(function(e,a){return function(n){var c=n.detail.value;"number"!==e.inputType&&"number-pad"!==e.keyboardType||(c=parseInt(c,10)),t.props.onInputChange(e,c,a)}})),Object(h.a)(Object(s.a)(t),"showExplain",(function(e){return function(){t.setState({"explainData":e,"visible":!0})}})),Object(h.a)(Object(s.a)(t),"closeModal",(function(){t.setState({"visible":!1})})),Object(h.a)(Object(s.a)(t),"onMoreClick",(function(e){return function(){}})),Object(h.a)(Object(s.a)(t),"onFocus",(function(e){return function(){var a=t.state.focus;a[e]=!0,t.setState({"focus":a})}})),Object(h.a)(Object(s.a)(t),"onBlur",(function(e,a){return function(n){var c=t.state.focus;c[a]=!1,t.setState({"focus":c},(function(){e.blurCheck&&t.props.onBlur(n)}))}})),t.state={"visible":!1,"explainData":{},"focus":[]},t}return Object(u.a)(LineWrap,[{"key":"render","value":function render(){var e=this,a=this.props,t=a.data,n=a.type,c=this.state,o=c.visible,r=c.explainData,l=c.focus,i=t.filter((function(e){return n.indexOf(e&&e.renderType)>-1}));return b.a.createElement(_.View,{"className":"loan-content"},r.title&&b.a.createElement(f.d,{"className":"compute-modal","visible":o,"closable":!0,"transparent":!0,"animationType":"none","onClose":this.closeModal},b.a.createElement(_.View,{"className":"explain"},b.a.createElement(_.Text,{"className":"explain-title"},r.title),b.a.createElement(_.View,{"className":"explain-tip"},b.a.createElement(_.Text,{"className":"explain-tip-text"},r.content)),b.a.createElement(_.Button,{"className":"explain-btn","onClick":this.closeModal},b.a.createElement(_.Text,{"className":"explain-btn-text"},"我知道了")))),i.map((function(a,t){var n=0;return a.range&&(a.range=a.rangeFilter?a.range.filter((function(e){return e.limit===a.rangeFilter})):a.range,n=a.range.findIndex((function(e){return e.value===Number(a.value)}))),b.a.createElement(_.View,{"key":a.name,"className":"input-content"},b.a.createElement(_.View,{"className":"input-content__label"},b.a.createElement(_.Text,{"className":"input-content__label-text"},a.name),a.icon&&b.a.createElement(_.View,{"onClick":e.showExplain(a.explain)},b.a.createElement(_.Image,{"className":"input-content__label-icon","src":a.icon}))),b.a.createElement(_.View,{"className":"value-wrap"},"selector"===a.type?b.a.createElement(_.View,{"className":"picker-box"},b.a.createElement(f.e,{"mode":"selector","title":a.name,"styleName":"picker-box__picke","value":[a.value],"range":a.range,"onChange":e.handlePickerChange(a,t)},b.a.createElement(_.Text,{"className":"picker-box__picker__text"},a.range[n]&&a.range[n].label))):b.a.createElement(_.Input,{"keyboardType":a.keyboardType,"type":a.inputType||"text","maxLength":a.maxLength,"className":"input","style":a.valueStyle||{},"disabled":!1,"readOnly":a.readOnly,"onBlur":e.onBlur(a,t),"onFocus":e.onFocus(t),"onInput":e.handleInputChange(a,t),"value":"".concat(0!==a.value?(a.ratio?a.ratio*a.value:a.value)||"":l[t]?"":0)}),b.a.createElement(_.View,{"className":"unit"},"arrowright"===a.unit?b.a.createElement(_.Image,{"className":"arrow-right","src":O.m}):b.a.createElement(_.Text,{"className":"unit__text","style":a.unitStyle},a.unit))),b.a.createElement(_.Text,{"className":"input-content-line"}))})))}}]),LineWrap}(p.Component);Object(h.a)(g,"defaultProps",{"data":[],"type":[],"onChangePicker":function onChangePicker(){},"onInputChange":function onInputChange(){},"onBlur":function onBlur(){}}),Object(h.a)(g,"options",{"addGlobalClass":!0});var x=function equalInterestCalc(e){var a=e.commerceLoanYear,t=e.commerceLoanRate,n=e.commerceTotalPirce,c=e.accumulatFundYear,o=e.accumulatFundRate,r=e.accumulatTotalPirce;return new Promise((function(e){var l=12*a,i=j(n,t/12,l),u=12*c,s=j(r,o/12,u),m=L(i*l+s*u,n+r),d=k(n,t/12,l),h=k(r,o/12,u),p=R(d,h,l,u),b=E(p,n+r),y=parseInt((1e4*(i+s)).toFixed(0),10);e({"equalInterest":{"payMonth":y,"totalInterest":m.toFixed(1),"monthDecline":0},"equalPrincipal":{"payMonth":p[0],"totalInterest":b.toFixed(1),"monthDecline":p[0]-p[1]},"equalInterestMonthList":new Array(Math.max(l,u)).fill(y),"equalPrincipalMonthList":p})}))},j=function getInterestEveryMonth(e,a,t){return Math.pow(1+a,t)-1==0?0:e*a*Math.pow(1+a,t)/(Math.pow(1+a,t)-1)},L=function getInterestTotal(e,a){return e-a},E=function getPrincipalTotal(e,a){return e.reduce((function(e,a){return e+a}))/1e4-a},k=function getPrincipalListByMonth(e,a,t){for(var n=[],c=0,o=0;o<t;o++){var r=e/t+(e-c)*a;c+=e/t,n.push(parseInt((1e4*r).toFixed(0),10))}return n},R=function mergeList(e,a,t,n){for(var c=Math.min(t,n),o=[],r=0;r<c;r++)o.push((e[r]||0)+(a[r]||0));return o};t.d(a,"default",(function(){return C}));var C=function(e){Object(m.a)(HouseLoanCompute,e);var a,t=Object(d.a)(HouseLoanCompute);function HouseLoanCompute(e){var a;Object(i.a)(this,HouseLoanCompute),a=t.call(this,e),Object(h.a)(Object(s.a)(a),"loading",void 0),Object(h.a)(Object(s.a)(a),"scroll",void 0),Object(h.a)(Object(s.a)(a),"computeResult",void 0),Object(h.a)(Object(s.a)(a),"isFirstChange",!0),Object(h.a)(Object(s.a)(a),"getRenderList",(function(){var e=a.state,t=e.params,n=e.options,c=e.loanLrpType,o=e.commerceLoanRateNew,r=e.way,i="".concat(100*t.loanLrp,"% + ").concat(t.commercialLoanBasePoint,"‱ = "),u="".concat(Object(v.a)(100*o,2),"%");a.setState({"renderList":Object(O.o)(Object(l.a)(Object(l.a)({},t),{},{"options":n,"way":r,"downPayRateCustom":t.downPayRate,"loanLrpType":c,"commerceLoanRateEqua":i,"commerceLoanRateNewUnit":u}))})})),Object(h.a)(Object(s.a)(a),"getData",(function(){var e=a.state.params,t=O.k.defult,n=O.k.options,c=n.downPayRate,o=void 0===c?[]:c,i=n.commerceLoanRate,u=void 0===i?[]:i,s=n.commerceLoanInFiveYearRate,m=void 0===s?[]:s,d=n.commerceLoanInOneYearRate,h=void 0===d?[]:d,p=n.accumulatFundRate,b=void 0===p?[]:p,y=n.accumulatFundInFiveYearRate,_=void 0===y?[]:y;o.splice(0,0,{"value":-1,"label":"手动输入"}),a.handleDownPaySelectLabel(e.houseTotal,o),e.loanAmount=Math.ceil(a.handleAmount(e.houseTotal,t.downPayRate)),u.forEach((function(e){e.limit="outFive"})),e.commerceOutFiveLoanRate=t.commerceLoanRate,m.forEach((function(e){e.limit="inFive"})),h.forEach((function(e){e.limit="inOne"})),n.commerceLoanRate=[].concat(Object(r.a)(u),Object(r.a)(m),Object(r.a)(h)),b.forEach((function(e){e.limit="outFive"})),e.accumulatOutFiveFundRate=t.accumulatFundRate,_.forEach((function(e){e.limit="inFive"})),n.accumulatFundRate=[].concat(Object(r.a)(b),Object(r.a)(_));var f=Object(v.a)(t.loanLrp+e.commercialLoanBasePoint/1e4,4);a.setState(Object(l.a)(Object(l.a)({},O.k),{},{"commerceLoanRateNew":f,"params":Object(l.a)(Object(l.a)({},e),t)}),(function(){a.getRenderList(),e.houseTotal&&a.submit()}))})),Object(h.a)(Object(s.a)(a),"onChangePicker",(function(e,t){var n=e.key,c=a.state.params;if("downPayRate"===n){var o=-1===t.value;return c[n]=o?c[n]:t.value,o||(c.loanAmount=Math.ceil(a.handleAmount(c.houseTotal,t.value)),c.commerceTotalPirce=Math.max(parseInt(c.loanAmount)-c.accumulatTotalPirce,0),c.accumulatTotalPirce=parseInt(c.loanAmount)-c.commerceTotalPirce),void a.setState({"params":c,"btnOpacity":o?0:1,"keyboardHeight":o?0:-1},a.getRenderList)}"accumulatFundYear"===e.key&&(c.accumulatFundRate=t.value>5?c.accumulatOutFiveFundRate:c.accumulatFundInFiveYearRate),"commerceLoanYear"===e.key&&(c.commerceLoanRate=t.value>5?c.commerceOutFiveLoanRate:t.value>1?c.commerceLoanInFiveYearRate:c.commerceLoanInOneYearRate),c[n]=t.value;var r={};"loanLrp"===e.key&&(r={"loanLrpType":t.label.indexOf("最新")>-1?1:0}),a.setState(Object(l.a)({"params":c},r),a.getRenderList)})),Object(h.a)(Object(s.a)(a),"handleDownPaySelectLabel",(function(e,t){var n=a.state.options;(t||n.downPayRate).forEach((function(a){a.labelCopy=a.labelCopy||a.label;var t=Math.floor(Object(v.a)(a.value*parseInt(e,10),1));-1!==a.value&&t>=0?a.label="".concat(a.labelCopy," (").concat(t,"万)"):a.label=a.labelCopy})),a.setState({"options":n})})),Object(h.a)(Object(s.a)(a),"onInputChange",(function(e,t,n){var c=a.state.params,o=t>0?t:0;if("houseTotal"===e.key){a.handleDownPaySelectLabel(o);var r=c.downPayRate;c.loanAmount=Math.ceil(a.handleAmount(o,r))}c[e.key]=o,"loanAmount"!==e.key&&"houseTotal"!==e.key||(c.commerceTotalPirce=parseInt(c.loanAmount)-c.accumulatTotalPirce,c.commerceTotalPirce=c.commerceTotalPirce>0?c.commerceTotalPirce:0);var i={};"commercialLoanBasePoint"===e.key&&(i.commerceLoanRateNew=Object(v.a)(c.loanLrp+c.commercialLoanBasePoint/1e4,4)),"accumulatTotalPirce"===e.key&&(c.accumulatTotalPirceMaxValue=-1,c.commerceTotalPirce=parseInt(c.loanAmount)-c.accumulatTotalPirce,c.commerceTotalPirce<=0&&(c.commerceTotalPirce=0,c.accumulatTotalPirce=parseInt(c.loanAmount)-c.commerceTotalPirce,c.accumulatTotalPirceMaxValue=c.accumulatTotalPirce));var u=c.accumulatLoanLimit;"commerceTotalPirce"===e.key&&(c.commerceTotalPirce=c.commerceTotalPirce>c.loanAmount?c.loanAmount:c.commerceTotalPirce,c.accumulatTotalPirce=parseInt(c.loanAmount)-c.commerceTotalPirce),c.accumulatTotalPirce>u&&((a.isFirstChange||"commerceTotalPirce"!==e.key)&&(Object(y.showToast)({"title":"当前城市公积金最高可贷".concat(u,"万"),"icon":"none"}),c.commerceTotalPirce=parseInt(c.loanAmount)-u),a.isFirstChange=!("commerceTotalPirce"===e.key),c.accumulatTotalPirce=u,c.accumulatTotalPirceMaxValue=u),a.setState(Object(l.a)({"params":c},i),a.getRenderList)})),Object(h.a)(Object(s.a)(a),"handleAmount",(function(e,a){return Object(v.a)(parseInt(e+"",10)*(1-a),1)})),Object(h.a)(Object(s.a)(a),"onWayClick",(function(e){var t,n=e.key,c=e.index,o={};if("way"===e.key&&1===c){var r=a.state.params,i=r.downPayRate,u=r.loanAmount;r.houseTotal=Math.floor(Object(v.a)(u/(1-i),1)),o={"params":r},a.handleDownPaySelectLabel(r.houseTotal)}if("way"===e.key&&0===c){var s=a.state.params,m=s.loanAmount;s.loanAmount=Math.ceil(Object(v.a)(m,1)),o={"params":s}}a.setState(Object(l.a)((t={},Object(h.a)(t,n,c),Object(h.a)(t,"showResult",!1),t),o),a.getRenderList)})),Object(h.a)(Object(s.a)(a),"goPage",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){Object(v.f)("COMPUTE_RESULT",a),y.default.navigateTo({"url":"/pages/calculator/".concat(e,"/index")})}})),Object(h.a)(Object(s.a)(a),"onKeyboardDidShow",(function(e){var t=e.endCoordinates;a.setState({"btnOpacity":0,"keyboardHeight":t.height})})),Object(h.a)(Object(s.a)(a),"onKeyboardDidHide",(function(e){a.setState({"keyboardHeight":-1,"btnOpacity":1})})),Object(h.a)(Object(s.a)(a),"downPayRateHandle",(function(e){var t=e.detail.value,n=parseInt(t,10);a.setState({"downPayRateCustom":n})})),Object(h.a)(Object(s.a)(a),"downPayRateConfirm",(function(){var e=a.state,t=e.options,n=e.params,c=e.downPayRateCustom,o=t.downPayRate,r=parseInt(c,10);if(r>0&&r<=99){var l=r/100,i=o.findIndex((function(e){return e.value===l}));if(l&&i<0){var u=o.length-1,s=o.findIndex((function(e,a){return l>e.value&&l<(a<u?o[a+1].value:1/0)}));o.splice(s+1,0,{"value":l,"label":"".concat(c,"%")})}n.downPayRate=l,n.loanAmount=Math.ceil(a.handleAmount(n.houseTotal,n.downPayRate)),n.commerceTotalPirce=parseInt(n.loanAmount)-n.accumulatTotalPirce,a.setState({"options":t,"params":n,"btnOpacity":1,"keyboardHeight":-1},(function(){a.handleDownPaySelectLabel(n.houseTotal),a.getRenderList()}))}else a.setState({"btnOpacity":1,"keyboardHeight":-1})})),Object(h.a)(Object(s.a)(a),"checkAccumulatLoanAmount",(function(){var e=a.state.params,t=e.accumulatLoanLimit;if(e.accumulatTotalPirce>t)return Object(y.showToast)({"title":"当前城市公积金最高可贷".concat(t,"万"),"icon":"none"}),void(e.accumulatTotalPirce=t);var n=parseInt(e.loanAmount)-e.commerceTotalPirce;e.accumulatTotalPirce=n,n>t&&(Object(y.showToast)({"title":"当前城市公积金最高可贷".concat(t,"万"),"icon":"none"}),e.accumulatTotalPirce=t,e.commerceTotalPirce=parseInt(e.loanAmount)-e.accumulatTotalPirce)})),Object(h.a)(Object(s.a)(a),"checkParams",(function(){var e=a.state,t=e.params,n=e.loanType,c=t.loanAmount,o=t.accumulatTotalPirce,r=t.commerceTotalPirce,l=t.accumulatLoanLimit;return 0===c?(Object(y.showToast)({"title":"贷款金额不能为0","icon":"none"}),!1):0===n&&c!=r+o?(Object(y.showToast)({"title":"商贷金额和公积金贷款金额之和必须等于贷款总额","icon":"none"}),!1):!(2===n&&c>l)||(Object(y.showToast)({"title":"当前城市公积金最高可贷".concat(l,"万"),"icon":"none"}),!1)})),Object(h.a)(Object(s.a)(a),"getTip",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=a.state,n=t.params,c=t.loanType,o=t.loanLrpType,r=t.commerceLoanRateNew,l=t.userLoanWay,i=n.commerceLoanYear,u=n.accumulatFundYear,s=n.accumulatFundRate,m=n.accumulatTotalPirce,d=n.commerceTotalPirce,h=n.commerceLoanRate,p=n.loanAmount,b=n.downPayRate,y="首付".concat(Object(v.a)(100*b,2),"%"),_="公积金贷".concat(2===c?p:m,"万·").concat(u,"年·利率").concat(Object(v.a)(100*s,2),"%"),f="".concat(Object(v.a)(100*(1===o?r:h),2)),O="商业贷".concat(1===c?p:d,"万·").concat(i||0,"年·利率").concat(f,"%"),P=0===c?[_,O]:1===c?[O]:[_],T="".concat(l||"等额本息"),w=(e?[y].concat(P,[T]):[y].concat(P)).join("、");return w})),Object(h.a)(Object(s.a)(a),"submit",Object(o.a)(c.a.mark((function _callee(){var e,t,n,o,i,u,s,m,d,h,p,b,_,f,O,P,T,w;return c.a.wrap((function _callee$(c){for(;;)switch(c.prev=c.next){case 0:if(!a.loading){c.next=2;break}return c.abrupt("return");case 2:if(a.checkParams()){c.next=4;break}return c.abrupt("return");case 4:return Object(y.showLoading)({"title":"计算中..."}),e=a.state,t=e.params,n=e.loanType,o=e.loanLrpType,i=e.commerceLoanRateNew,u=e.userLoanWay,s=t.commerceLoanYear,m=t.accumulatFundYear,d=t.accumulatFundRate,h=t.accumulatTotalPirce,p=t.loanAmount,b=t.commerceTotalPirce,_=t.commerceLoanRate,f=t.houseTotal,c.next=9,x({"totalPrice":f,"commerceLoanYear":s,"commerceLoanRate":1===o?i:_,"accumulatFundYear":m,"accumulatFundRate":d,"accumulatTotalPirce":2===n?p:h,"commerceTotalPirce":1===n?p:b});case 9:return O=c.sent,c.prev=10,P=a.getTip(!1),a.computeResult=Object(l.a)(Object(l.a)({},O),{},{"loanAmount":p,"tip":P}),"#12B983",a.setState({"tip":P,"showResult":!0,"equalInterestPayMonth":O.equalInterest.payMonth,"equalPrincipalPayMonth":O.equalPrincipal.payMonth,"backgroundColor":"#12B983"}),Object(y.setNavigationBarColor)({"frontColor":"#ffffff","backgroundColor":"#12B983"}),Object(y.pageScrollTo)({"scrollTop":0,"duration":300}),c.next=19,Object(v.c)("LOAN_HISTORY");case 19:if(c.t0=c.sent,c.t0){c.next=22;break}c.t0=[];case 22:return T=c.t0,w=[{"commerceLoanYear":s,"commerceTotalPirce":1===n?p:2===n?0:b,"accumulatFundYear":m,"accumulatTotalPirce":1===n?0:2===n?p:h,"payMonthStr":"等额本息"===u?"每月应还(等额本息)":"首月应还(等额本金)","firstPay":"等额本息"===u?O.equalInterest.payMonth:O.equalPrincipal.payMonth}].concat(Object(r.a)(T)),c.next=26,Object(y.setStorage)({"key":"LOAN_HISTORY","data":w.slice(0,10)});case 26:c.next=31;break;case 28:c.prev=28,c.t1=c.catch(10),console.log(c.t1);case 31:return c.prev=31,setTimeout((function(){Object(y.hideLoading)()}),1e3),a.loading=!1,c.finish(31);case 35:case"end":return c.stop()}}),_callee,null,[[10,28,31,35]])}))));var n=y.default.getCurrentInstance().router.params.price,u=void 0===n?0:n;return a.state={"showResult":!1,"equalPrincipalPayMonth":0,"equalInterestPayMonth":0,"userLoanWay":"等额本息","way":u?1:0,"loanType":1,"renderList":[],"options":{},"params":{"houseTotal":u||0,"downPayRate":30,"loanAmount":0,"accumulatTotalPirce":0,"accumulatLoanLimit":0,"commercialLoanBasePoint":0,"commerceLoanRate":0,"publicReserveFundsRate":0,"commercialLoanTerm":0,"commercialLoanWay":0,"commerceTotalPirce":0},"defaultValue":{},"keyboardHeight":-1,"loanLrpType":1,"downPayRateCustom":"","btnOpacity":1,"backgroundColor":"#fff"},a}return Object(u.a)(HouseLoanCompute,[{"key":"componentDidMount","value":function componentDidMount(){this.getData()}},{"key":"componentDidShow","value":(a=Object(o.a)(c.a.mark((function _callee2(){var e,a,t;return c.a.wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(v.c)("USER_LOAN_WAY");case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0={};case 5:e=n.t0,a=e.title,t=void 0===a?"等额本息":a,this.setState({"userLoanWay":t});case 9:case"end":return n.stop()}}),_callee2,this)}))),function componentDidShow(){return a.apply(this,arguments)})},{"key":"render","value":function render(){var e=this,a=this.state,t=a.way,n=a.loanType,c=a.renderList,o=a.params,r=a.keyboardHeight,l=a.btnOpacity,i=a.userLoanWay,u=a.equalInterestPayMonth,s=a.equalPrincipalPayMonth,m=a.showResult,d=a.backgroundColor,h=o.houseTotal,p=o.downPayRate;return b.a.createElement(f.f,{"className":"calculator"},b.a.createElement(f.g,{"backgroundColor":d,"barStyle":"dark-content"}),r>=0&&b.a.createElement(_.View,{"className":"fixed"},b.a.createElement(_.View,{"className":"mask"}),b.a.createElement(_.View,{"className":"keyboard-box","style":{"bottom":Object(v.d)()?0:r}},b.a.createElement(_.Text,{"className":"keyboard-box-text"},"请输入"),b.a.createElement(f.b,{"keyboardShouldPersistTaps":"always","enableAutomaticScroll":!1,"onKeyboardDidShow":this.onKeyboardDidShow,"className":"keyboard-box-view","onKeyboardDidHide":this.onKeyboardDidHide},b.a.createElement(_.Input,{"keyboardType":"number-pad","type":"number","cursorSpacing":10,"className":"keyboard-box-input","focus":!0,"style":{"paddingVertical":0},"onInput":this.downPayRateHandle,"onBlur":this.downPayRateConfirm,"holdKeyboard":!0})),b.a.createElement(_.Text,{"className":"keyboard-box-confirm","onClick":this.downPayRateConfirm},"确定"))),b.a.createElement(f.b,{"innerRef":function innerRef(a){e.scroll=a},"style":{"flex":1}},m&&b.a.createElement(T,{"way":t,"tip":this.getTip(),"downPayRate":p,"equalInterestPayMonth":u,"equalPrincipalPayMonth":s,"houseTotal":h,"userLoanWay":i,"goHistory":this.goPage("history"),"goMonthlyPayments":this.goPage("monthly-payments",this.computeResult)}),b.a.createElement(_.View,{"className":"content"},b.a.createElement(w,{"title":"计算方式","data":O.d,"onWayClick":this.onWayClick,"activeIndex":t}),b.a.createElement(g,{"data":c,"type":O.c[t],"onChangePicker":this.onChangePicker,"onInputChange":this.onInputChange}),b.a.createElement(w,{"title":"贷款方式","data":O.h,"onWayClick":this.onWayClick,"activeIndex":n}),b.a.createElement(g,{"data":c,"type":O.g[n],"onBlur":this.checkAccumulatLoanAmount,"onChangePicker":this.onChangePicker,"onInputChange":this.onInputChange}),b.a.createElement(_.Video,{"className":"video","src":O.e,"controls":!1,"showFullscreenBtn":!1,"autoplay":!0,"loop":!0,"muted":!0}))),b.a.createElement(f.a,{"shadowColor":"#000","shadowOffset":{"width":0,"height":-1},"shadowOpacity":.1,"shadowRadius":1,"elevation":5,"className":"compute","style":{"opacity":l},"boxShadow":"0px 2px 8px 0px rgba(211,215,218,1)"},b.a.createElement(f.f,null,b.a.createElement(_.View,{"className":"compute-btn","onClick":this.submit},b.a.createElement(_.Text,{"className":"compute-btn-text"},"开始计算")))))}}]),HouseLoanCompute}(p.Component)},"92":function(e,a,t){}}]);